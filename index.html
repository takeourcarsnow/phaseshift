<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Wave Playground — Context-aware UI</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="app">
    <aside>
      <div class="panel" id="panel">
        <div class="topbar">
          <div class="title">Wave Playground</div>
          <span class="chip" id="fpsChip">FPS: —</span>
          <span class="chip" id="detailChip">Detail: —</span>
          <span class="chip" id="ctxChip" aria-live="polite">OK</span>
          <div class="spacer"></div>
          <button class="btn" id="pauseBtn">Pause</button>
          <button class="btn" id="fullscreenBtn">Fullscreen</button>
          <button class="btn" id="togglePanel">Menu</button>
        </div>

        <div class="sec">Waves</div>
        <div class="group">
          <label>Count</label><div class="value" id="v_waveCount"></div>
          <input id="waveCount" type="range" min="1" max="128" step="1">
        </div>
        <div class="group">
          <label>Amplitude</label><div class="value" id="v_amplitude"></div>
          <input id="amplitude" type="range" min="0" max="300" step="1">
        </div>
        <div class="group">
          <label>Auto amplitude</label>
          <div class="value"><input id="autoAmplitude" type="checkbox"></div>
        </div>
        <div class="group wide subtle" id="row_ampHint">
          <span id="ampHint" class="mono"></span>
        </div>
        <div class="group">
          <label>Frequency (cycles)</label><div class="value" id="v_frequency"></div>
          <input id="frequency" type="range" min="0.2" max="6" step="0.1">
        </div>
        <div class="group">
          <label>Phase speed</label><div class="value" id="v_speed"></div>
          <input id="speed" type="range" min="0" max="4" step="0.01">
        </div>

        <div class="group">
          <label>Vertical spacing (base)</label><div class="value" id="v_minGap"></div>
          <input id="minGap" type="range" min="0" max="120" step="1">
        </div>
        <div class="group">
          <label>Auto min-gap</label>
          <div class="value"><input id="autoMinGap" type="checkbox"></div>
        </div>

        <div class="group">
          <label>Layer spread</label><div class="value" id="v_spread"></div>
          <input id="spread" type="range" min="0.25" max="1.5" step="0.01">
        </div>
        <div class="group">
          <label>Band center</label><div class="value" id="v_bandCenter"></div>
          <input id="bandCenter" type="range" min="0" max="1" step="0.01">
        </div>

        <div class="group">
          <label>Shape</label>
          <select id="shape">
            <option value="sine">Sine</option>
            <option value="triangle">Triangle</option>
            <option value="square">Square</option>
            <option value="saw">Sawtooth</option>
            <option value="pulse">Pulse</option>
          </select>
        </div>
        <div class="group hidden" id="row_pulseDuty">
          <label>Pulse duty</label><div class="value" id="v_duty"></div>
          <input id="pulseDuty" type="range" min="0.05" max="0.95" step="0.01">
        </div>

        <div class="sec">Flow</div>
        <div class="group">
          <label>Direction</label>
          <select id="direction">
            <option value="right">Right →</option>
            <option value="left">← Left</option>
          </select>
        </div>
        <div class="group">
          <label>Flow angle (deg)</label><div class="value" id="v_flowAngle"></div>
          <input id="flowAngle" type="range" min="-90" max="90" step="1">
        </div>
        <div class="group">
          <label>Line tilt (deg)</label><div class="value" id="v_tiltDeg"></div>
          <input id="tiltDeg" type="range" min="-90" max="90" step="0.5">
        </div>

        <div class="sec">Turbulence</div>
        <div class="group">
          <label>Type</label>
          <select id="turbType">
            <option value="none">None</option>
            <option value="sine">Sine</option>
            <option value="noise">Noise</option>
            <option value="perlin">Perlin</option>
            <option value="vortex">Vortex</option>
            <option value="chaos">Chaos</option>
          </select>
        </div>
        <div class="group hidden" id="row_turbInt">
          <label>Intensity</label><div class="value" id="v_turbInt"></div>
          <input id="turbInt" type="range" min="0" max="1.5" step="0.01">
        </div>
        <div class="group hidden" id="row_turbScale">
          <label>Scale</label><div class="value" id="v_turbScale"></div>
          <input id="turbScale" type="range" min="0.0003" max="0.01" step="0.0001">
        </div>
        <div class="group hidden" id="row_turbSpeed">
          <label>Speed</label><div class="value" id="v_turbSpeed"></div>
          <input id="turbSpeed" type="range" min="0" max="2" step="0.01">
        </div>
        <div class="group hidden" id="row_noiseSeed">
          <label>Noise seed</label>
          <input id="noiseSeed" type="number" class="mono" step="1" min="0" max="2147483647">
        </div>
        <div class="group hidden" id="row_reseed">
          <button class="btn" id="reseed">Re-seed</button>
          <div class="subtle">For noise/perlin/chaos</div>
        </div>

        <div class="sec">Interaction</div>
        <div class="group">
          <label>Mode</label>
          <select id="interMode">
            <option value="off">Off</option>
            <option value="push">Push</option>
            <option value="pull">Pull</option>
            <option value="gravity">Gravity</option>
            <option value="swirl">Swirl</option>
          </select>
        </div>
        <div class="group hidden" id="row_interStrength">
          <label>Strength</label><div class="value" id="v_interStrength"></div>
          <input id="interStrength" type="range" min="0" max="4" step="0.01">
        </div>
        <div class="group hidden" id="row_interRadius">
          <label>Radius</label><div class="value" id="v_interRadius"></div>
          <input id="interRadius" type="range" min="8" max="500" step="1">
        </div>
        <div class="group">
          <label>Auto radius</label>
          <div class="value"><input id="autoInterRadius" type="checkbox"></div>
        </div>

        <div class="sec">Physics</div>
        <div class="group">
          <label>Elasticity (to shape)</label><div class="value" id="v_spring"></div>
          <input id="spring" type="range" min="1" max="180" step="1">
        </div>
        <div class="group">
          <label>Neighbor coupling</label><div class="value" id="v_neighbor"></div>
          <input id="neighbor" type="range" min="0" max="1200" step="10">
        </div>
        <div class="group">
          <label>Damping</label><div class="value" id="v_damping"></div>
          <input id="damping" type="range" min="0" max="24" step="0.1">
        </div>
        <div class="group" id="row_sepK">
          <label>Separation strength</label><div class="value" id="v_sepK"></div>
          <input id="sepK" type="range" min="0" max="2" step="0.01">
        </div>
        <div class="group">
          <label>Keep inside</label>
          <div class="value"><input id="keepInside" type="checkbox"></div>
        </div>

        <div class="sec">Visual</div>
        <div class="group">
          <label>Line width</label><div class="value" id="v_lineWidth"></div>
          <input id="lineWidth" type="range" min="0.5" max="10" step="0.1">
        </div>
        <div class="group">
          <label>Line style</label>
          <select id="lineStyle">
            <option value="solid">Solid</option>
            <option value="dashed">Dashed</option>
            <option value="dotted">Dotted</option>
          </select>
        </div>
        <div class="group">
          <label>Color mode</label>
          <select id="colorMode">
            <option value="custom">Custom</option>
            <option value="rainbow">Rainbow</option>
            <option value="velocity">Velocity</option>
          </select>
        </div>
        <div class="group hidden" id="row_lineColor">
          <label>Custom color</label>
          <input id="lineColor" type="color">
        </div>
        <div class="group">
          <label>Background</label>
          <input id="bgColor" type="color">
        </div>
        <div class="group">
          <label>Blend mode</label>
          <select id="blendMode">
            <option value="source-over">Normal</option>
            <option value="lighter">Lighter</option>
            <option value="screen">Screen</option>
            <option value="overlay">Overlay</option>
            <option value="soft-light">Soft light</option>
            <option value="difference">Difference</option>
          </select>
        </div>

        <div class="group">
          <label>Glow</label>
          <div class="value"><input id="glowEnabled" type="checkbox"></div>
        </div>
        <div class="group hidden" id="row_glow">
          <label>Glow size</label><div class="value" id="v_glow"></div>
          <input id="glow" type="range" min="0" max="50" step="1">
        </div>
        <div class="group hidden" id="row_glowColor">
          <label>Glow color</label>
          <input id="glowColor" type="color">
        </div>

        <div class="group">
          <label>Plex (trail)</label>
          <div class="value"><input id="plexEnabled" type="checkbox"></div>
        </div>
        <div class="group hidden" id="row_plex">
          <label>Trail fade</label><div class="value" id="v_plex"></div>
          <input id="plex" type="range" min="0" max="1" step="0.01">
        </div>

        <div class="sec">Performance</div>
        <div class="group">
          <label>Detail (px/sample)</label><div class="value" id="v_detail"></div>
          <input id="detail" type="range" min="3" max="16" step="1">
        </div>
        <div class="group">
          <label>Auto detail</label>
          <div class="value"><input id="autoDetail" type="checkbox"></div>
        </div>

        <div class="sec">Presets</div>
        <div class="group">
          <label>Load preset</label>
          <select id="presetSelect"></select>
        </div>
        <div class="group">
          <label>Name</label>
          <input id="presetName" type="text" placeholder="My preset">
        </div>
        <div class="btn-row" style="margin-top: -4px;">
          <button class="btn" id="savePreset">Save</button>
          <button class="btn" id="deletePreset">Delete</button>
        </div>
        <div class="btn-row">
          <button class="btn" id="exportPreset">Export JSON</button>
          <button class="btn" id="importPreset">Import JSON</button>
        </div>

        <div class="note">Context-aware controls, layer spread and band center, flow direction/angle, visual tilt, auto amplitude/radius. Hotkeys: Space pause, M menu, R randomize, C center pointer, S screenshot.</div>

        <div class="footer">
          <div class="btn-row">
            <button class="btn" id="randomize">Randomize</button>
            <button class="btn" id="resetCam">Center Pointer</button>
          </div>
        </div>
      </div>
    </aside>
    <main><canvas id="c" aria-label="Interactive wave canvas"></canvas></main>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>