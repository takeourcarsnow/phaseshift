<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>phaseshift.art - physics playground</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="js/wave-system.js" defer></script>
    <script src="js/animation.js" defer></script>
</head>
<body>
    <div id="controls-container">
        <div id="controls">
            <details open>
                <summary><i class="fas fa-th"></i> Grid</summary>
                <div class="controls-grid">
                <div class="control-group">
                        <label for="gridSize" title="Resolution of the wave lines (lower = more detailed)">Resolution: <span id="gridSizeValue">3</span></label>
                        <input type="range" id="gridSize" min="1" max="200" value="21">
                    </div>
                </div>
            </details>
            <details open>
                <summary><i class="fas fa-wave-square"></i> Waves</summary>
                <div class="controls-grid">
                 <div class="control-group">
                        <label for="waveCount" title="Number of wave layers">Count: <span id="waveCountValue">5</span></label>
                        <input type="range" id="waveCount" min="1" max="50" value="5">
                </div>
                <div class="control-group">
                        <label for="waveSpeed" title="Speed of the wave animation">Speed: <span id="waveSpeedValue">1</span></label>
                    <input type="range" id="waveSpeed" min="0.1" max="5" step="0.1" value="1">
                </div>
                <div class="control-group">
                        <label for="waveAmplitude">Amplitude: <span id="waveAmplitudeValue">51</span></label>
                        <input type="range" id="waveAmplitude" min="1" max="300" value="51">
                </div>
                <div class="control-group">
                        <label for="waveSpacing" title="Spacing between wave layers">Spacing: <span id="waveSpacingValue">50</span></label>
                    <input type="range" id="waveSpacing" min="10" max="200" value="50">
                    </div>
                    <div class="control-group">
                        <label for="waveShape">Shape:</label>
                        <div class="radio-group">
                            <label><input type="radio" name="waveShape" value="sine" checked>Sine</label>
                            <label><input type="radio" name="waveShape" value="square">Square</label>
                            <label><input type="radio" name="waveShape" value="triangle">Triangle</label>
                            <label><input type="radio" name="waveShape" value="sawtooth">Sawtooth</label>
                            <label><input type="radio" name="waveShape" value="pulse">Pulse</label>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Wave Rotation: <span id="waveRotationValue">0</span>°</label>
                        <input type="range" id="waveRotation" min="0" max="360" value="0" step="15">
                    </div>
                </div>
            </details>
            <details>
                <summary><i class="fas fa-wind"></i> Turbulence</summary>
                <div class="controls-grid">
                    <div class="control-group">
                        <label for="turbulence" title="Amount of turbulence">Amount: <span id="turbulenceValue">0</span></label>
                        <input type="range" id="turbulence" min="0" max="2" step="0.1" value="0">
                    </div>
                    <div class="control-group">
                        <label for="turbulenceType">Type:</label>
                        <div class="radio-group">
                            <label><input type="radio" name="turbulenceType" value="sine" checked>Sine Waves</label>
                            <label><input type="radio" name="turbulenceType" value="noise">Organic Noise</label>
                            <label><input type="radio" name="turbulenceType" value="perlin">Perlin Noise</label>
                            <label><input type="radio" name="turbulenceType" value="vortex">Vortex</label>
                            <label><input type="radio" name="turbulenceType" value="chaos">Chaos</label>
                            <label><input type="radio" name="turbulenceType" value="directional">Directional</label>
                            <label><input type="radio" name="turbulenceType" value="random">Random Pulses</label>
                            <label><input type="radio" name="turbulenceType" value="sawtooth">Sawtooth</label>
                            <label><input type="radio" name="turbulenceType" value="pulse">Pulse</label>
                        </div>
                    </div>
                    <div class="control-group turbulence-sine turbulence-directional turbulence-vortex turbulence-chaos turbulence-intensity">
                        <label for="turbulenceIntensity">Intensity: <span id="turbulenceIntensityValue">1.0</span></label>
                        <input type="range" id="turbulenceIntensity" min="0.1" max="3" step="0.1" value="1.0">
                    </div>
                    <div class="control-group turbulence-perlin hidden">
                        <label for="turbulenceOctaves">Octaves: <span id="turbulenceOctavesValue">3</span></label>
                        <input type="range" id="turbulenceOctaves" min="1" max="8" value="3">
                    </div>
                    <div class="control-group turbulence-chaos">
                        <label for="turbulenceChaos">Chaos: <span id="turbulenceChaosValue">0.5</span></label>
                        <input type="range" id="turbulenceChaos" min="0" max="1" step="0.01" value="0.5">
                    </div>
                    <div class="control-group turbulence-vortex">
                        <label for="turbulenceVortex">Vortex: <span id="turbulenceVortexValue">0</span></label>
                        <input type="range" id="turbulenceVortex" min="-2" max="2" step="0.1" value="0">
                    </div>
                    <div class="control-group turbulence-directional">
                        <label for="turbulenceDirection">Direction: <span id="turbulenceDirectionValue">0</span>°</label>
                        <input type="range" id="turbulenceDirection" min="0" max="360" value="0">
                    </div>
                    <div class="control-group">
                        <label for="turbulenceSpeed" title="Speed of the turbulence">Speed: <span id="turbulenceSpeedValue">1</span></label>
                        <input type="range" id="turbulenceSpeed" min="0" max="3" step="0.1" value="1">
                    </div>
                    <div class="control-group">
                        <label for="turbulenceScale" title="Scale of the turbulence">Scale: <span id="turbulenceScaleValue">50</span></label>
                        <input type="range" id="turbulenceScale" min="10" max="200" value="50">
                    </div>
                <div class="control-group">
                        <label for="turbulenceComplexity" title="Complexity of the turbulence">Complexity: <span id="turbulenceComplexityValue">1</span></label>
                        <input type="range" id="turbulenceComplexity" min="1" max="5" step="0.5" value="1">
                    </div>
                </div>
            </details>
            <details>
                <summary><i class="fas fa-hand-pointer"></i> Interaction</summary>
                <div class="controls-grid">
                    <div class="control-group">
                        <label for="lineStrength" title="Strength of the mouse interaction">Strength: <span id="lineStrengthValue">1</span></label>
                        <input type="range" id="lineStrength" min="0" max="10" step="0.01" value="1">
                </div>
                 <div class="control-group">
                        <label for="interactionStrength" title="Force of the mouse interaction">Force: <span id="interactionStrengthValue">0.5</span></label>
                    <input type="range" id="interactionStrength" min="0" max="2" step="0.01" value="0.5">
                </div>
                <div class="control-group">
                        <label for="mouseRadius" title="Radius of the mouse interaction">Radius: <span id="mouseRadiusValue">100</span></label>
                    <input type="range" id="mouseRadius" min="10" max="300" value="100">
                </div>
                <div class="control-group">
                        <label for="lineWidth" title="Width of the lines">Width: <span id="lineWidthValue">3</span></label>
                        <input type="range" id="lineWidth" min="1" max="5" value="3">
                </div>
                    <div class="control-group line-style-solid line-style-dashed line-style-dotted">
                        <label for="lineStyle" title="Style of the lines">Style:</label>
                <div class="radio-group">
                    <label><input type="radio" name="lineStyle" value="solid" checked>Solid</label>
                    <label><input type="radio" name="lineStyle" value="dashed">Dashed</label>
                    <label><input type="radio" name="lineStyle" value="dotted">Dotted</label>
                </div>
                </div>
                    <div class="control-group">
                        <label for="interactionMode" title="Mode of mouse interaction">Mode:</label>
                <div class="radio-group">
                    <label><input type="radio" name="interactionMode" value="push" checked>Push</label>
                    <label><input type="radio" name="interactionMode" value="pull">Pull</label>
                    <label><input type="radio" name="interactionMode" value="both">Both</label>
                    <label><input type="radio" name="interactionMode" value="gravity">Gravity</label>
                            <label><input type="radio" name="interactionMode" value="unified">Unified</label>
                        </div>
                    </div>
                </div>
            </details>
            <details>
                <summary><i class="fas fa-palette"></i> Colors</summary>
                <div class="controls-grid">
                    <div class="control-group">
                        <label for="colorMode" title="Color mode of the lines">Mode:</label>
                <div class="radio-group">
                            <label><input type="radio" name="colorMode" value="custom">Custom <input type="color" id="lineColor" value="#f0f0f0"></label>
                            <label><input type="radio" name="colorMode" value="rainbow" checked>Rainbow</label>
                            <label><input type="radio" name="colorMode" value="velocity">Velocity</label>
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="backgroundColor" title="Background color">Background Color: <input type="color" id="backgroundColor" value="#1a1a1a"></label>
                    </div>
                </div>
            </details>
            <details>
                <summary><i class="fas fa-magic"></i> Visuals</summary>
                <div class="controls-grid">
                    <div class="control-group">
                        <label><i class="fas fa-save"></i> Presets</label>
                        <div class="preset-controls">
                            <select id="presetSelect">
                                <option value="custom">Custom</option>
                                <option value="calm">Calm Waves</option>
                                <option value="storm">Stormy Sea</option>
                                <option value="neon">Neon Pulse</option>
                            </select>
                            <button id="savePresetBtn" title="Save current settings as preset">
                                <i class="fas fa-save"></i>
                            </button>
                            <button id="loadPresetBtn" title="Load selected preset">
                                <i class="fas fa-folder-open"></i>
                            </button>
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="globalThickness">Line Thickness: <span id="globalThicknessValue">5</span></label>
                        <input type="range" id="globalThickness" min="1" max="10" value="5">
                    </div>
                    <div class="control-group">
                        <label for="blendMode" title="Canvas blend mode">Blend Mode:</label>
                        <select id="blendMode">
                            <option value="source-over">Normal</option>
                            <option value="multiply">Multiply</option>
                            <option value="screen">Screen</option>
                            <option value="overlay">Overlay</option>
                            <option value="darken">Darken</option>
                            <option value="lighten">Lighten</option>
                            <option value="color-dodge">Color Dodge</option>
                            <option value="color-burn">Color Burn</option>
                            <option value="hard-light">Hard Light</option>
                            <option value="soft-light">Soft Light</option>
                             <option value="difference">Difference</option>
                            <option value="exclusion">Exclusion</option>
                            <option value="hue">Hue</option>
                            <option value="saturation">Saturation</option>
                            <option value="color">Color</option>
                            <option value="luminosity">Luminosity</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="plexEffect">Enable Plex Effect:</label>
                        <input type="checkbox" id="plexEffect">
                        <span id="plexEffectValue">Off</span>
                    </div>
                    <div class="control-group">
                        <label for="plexIntensity">Plex Intensity: <span id="plexIntensityValue">50</span></label>
                        <input type="range" id="plexIntensity" min="0" max="100" value="50">
                    </div>
                    <div class="control-group">
                        <label for="glowEffect">Enable Glow Effect:</label>
                        <input type="checkbox" id="glowEffect">
                        <span id="glowEffectValue">Off</span>
                    </div>
                    <div class="control-group">
                        <label for="glowIntensity">Glow Intensity: <span id="glowIntensityValue">30</span></label>
                        <input type="range" id="glowIntensity" min="0" max="100" value="30">
                    </div>
                    <div class="control-group">
                        <label for="plexTrailDuration">Plex Trail Duration: <span id="plexTrailDurationValue">1.0</span></label>
                        <input type="range" id="plexTrailDuration" min="0.1" max="3.0" step="0.1" value="1.0">
                    </div>
                </div>
            </details>
            <details>
                <summary><i class="fas fa-cogs"></i> Physics</summary>
                <div class="controls-grid">
                    <div class="control-group">
                        <label for="elasticity" title="Elasticity of the wave points">Elasticity: <span id="elasticityValue">0.3</span></label>
                        <input type="range" id="elasticity" min="0" max="1" step="0.01" value="0.3">
                    </div>
                    <div class="control-group">
                        <label for="friction" title="Friction of the wave points">Friction: <span id="frictionValue">0.20</span></label>
                        <input type="range" id="friction" min="0.05" max="1" step="0.01" value="0.20">
                    </div>
                    <div class="control-group">
                        <label for="positionSpring" title="Position restoration strength">Position Spring: <span id="positionSpringValue">0.2</span></label>
                        <input type="range" id="positionSpring" min="0" max="2" step="0.1" value="0.2">
                </div>
                <div class="control-group">
                        <label for="velocityDamping" title="Velocity reduction factor">Velocity Damping: <span id="velocityDampingValue">0.1</span></label>
                        <input type="range" id="velocityDamping" min="0" max="1" step="0.01" value="0.1">
                </div>
                <div class="control-group">
                        <label for="maxAcceleration" title="Maximum point acceleration">Max Acceleration: <span id="maxAccelerationValue">9</span></label>
                        <input type="range" id="maxAcceleration" min="1" max="10" value="9">
                    </div>
                </div>
            </details>
            <div class="control-group">
                <button id="randomButton" title="Randomize all settings">Random Settings</button>
                <button id="defaultButton" title="Reset to default settings">Default Settings</button>
            </div>
            <div class="control-group">
                <button id="clearButton" title="Clear the canvas">Clear</button>
            </div>
        </div>
        <button id="controls-toggle"><i class="fas fa-bars"></i></button>
    </div>
    <canvas id="gridCanvas" tabindex="0" role="application" aria-label="Interactive physics canvas"></canvas>
    <script src="js/settings.js"></script>
    <script src="js/vector.js"></script>
    <script src="js/grid.js"></script>
    <script src="js/wave.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // This ensures our keydown listener is ready
        });
    </script>
</body>
</html> 
